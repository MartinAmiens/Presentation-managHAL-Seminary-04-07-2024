---
title: "Manipulation de données bibliométrique via {managHAL}"
author: "Martin AMIENS"
---
```{r, include=FALSE, echo = FALSE, warning = FALSE, message=FALSE}
library(igraph, quietly = TRUE)
library(tidyr, quietly = TRUE)
library(managHAL, quietly = TRUE)
library(dplyr, quietly = TRUE)
library(reshape2, quietly = TRUE)
library (readxl, quietly = TRUE)
library(visNetwork, quietly = TRUE)
library(sbm, quietly = TRUE)
```

# Introduction

Me présenter, stage durée, avec qui (tuteurs, unité,...), financé par, ... , ma formation...

## Contexte du stage


::: {.notes}

Paler en quelques phrases du contexte du stage (science ouverte, finacé par la drit qui dirige la cellule HAL d'agroparistech, parler de hal, plateforme de ref, fonds non données aux chercheurs si pas toutes les publis sur HAL, et évoquer son api complexe)

**Description de HAL **: Archive nationale pour la diffusion ouverte des résultats de recherche, développée par le CNRS en 2001.

**Utilisation d'API **: Extraction et analyse des données via des outils comme RStudio. décrire peut etre plus en profondeur ? parler des différents champs possible pour récuperer differentes formes de résultats.

**Création d'une cellule HAL**: 2 janvier 2023. elle est dirigé par la DRIT. (direction de la recherche et de l'innovation technologique)


:::

## Objectifs du stage

Accessibilité et généricité de {managHAL}

Ajout de fonctionnalité à {managHAL}


## {ManagHAL}, package R d'extraction de données bibliométriques HAL et d'analyse de réseaux

::: {.notes}
Les outils pour réaliser des analyses bibliométriques se répartissent en trois catégories, "general bibliometric and performance analysis, science mapping analysis, and libraries" <https://revista.profesionaldelainformacion.com/index.php/EPI/article/view/epi.2020.ene.03> ou analyse générale bibliométrique et de performances, analyses par cartographie scientifique et librairies / packages. Le package {managHAL} se trouve dans les troisième et deuxième catégories. Il existe à ce jour d'autres outils d'analyses bibliométriques mais la majorité ne permettent pas de travailler via l'api HAL et se concentrent sur webofscience, scopus, google scholar,... Il existe des outils d’extraction de publications HAL, cependant aucun package R ne permet actuellement d'extraire ces données pour réaliser des analyses statisistiques. Pour répondre à ce besoin, Théodore Vanrengterghem a commencé à développer le package R {managHAL}. Le package permet l’extraction de données HAL et la création de bilans bibliographiques. En cours de développement, ce package ne permet pas actuellement la réalisation d'analyses bibliométriques.

Ainsi, durant mes 2 mois et 17 jours de stage au sein de l'unité mixte de recherche Mathématiques et Informatique Appliquées (MIA) - Paris Saclay, associée aux tutelles AgroParisTech, INRAE et Université Paris Saclay, j’ai travaillé sur rendre le package {managHAL} plus accessible et utilisable par d'autres unités de recherches que l'unité MIA - Paris Saclay. J'ai aussi travaillé sur la programmation et l’intégration d’outils d’analyse statistique de réseau au sein du package. Encadré par deux tuteurs, Julie Aubert et Pierre Barbillon, j’ai contribué à la mise en forme du package et à la création de fonctions spécifiques.
:::

Je souhaite parler de managHAL en général, de ce qu'il etait possible de faire avant mon stage via les fonctions du package. et faire le lien vers les réseaux.

## Accessibilité et généricité de {managHAL}

::: {.notes}

me permet de parler rapidement de ce que je peux obtenir comme résultats de base avec l'ancienne version du package, puis des résultats obtenus avec la nouvelle version du package (surtout ne pas mettre de code afin de faire une presentation correcte, facile à suivre, claire et concise)par contre mettre des images des reseaux obtenus meme si pas satisfaisants... mettre aussi les résultats obtenus avec un sbm. c'est la partie qui peut prendre e plus de diapos si pas assez de place alors liberez des diapos des autres partie et les mettre dans les diapos questions.

:::

::: {.panel-tabset}


### Tab A

```{r load-team-table}
data_RH_csv_Example <- load_team_table(filter_id = TRUE, date_cols = c(6,7), filepath_or_url = "./data/Data_RH_Example.csv")
# afin de ne garder que les lignes avec un idhal correct
data_RH_csv_Example <- data_RH_csv_Example[which(!is.na(data_RH_csv_Example$idhal)),]
head(data_RH_csv_Example)
```

### Tab B

```{r Hal-extract-csv}
date_min = "01/01/2022"
date_max = "01/01/2023"

# Publications à partir d'un id de laboratoire.
HAL_publis_Labo <- managHAL::HAL_extract_csv(id = 1002311, date_min,date_max, type_id = "struct_id", add_output = c("structAcronym_s","structId_i", "structHasAlphaAuthIdHalPersonid_fs"))
HAL_publis_Labo[1,]

# Publications à partir d'ids auteurs
HAL_publis_auteurs <- managHAL::HAL_extract_csv(id = data_RH_csv_Example[,12] , date_min,date_max, type_id = "person_id")
HAL_publis_auteurs[1,]

```


:::

## Réseaux et modèle de graphe aléatoire
::: {.notes}
Un réseau d’interaction est constitué de nœuds (les entités) et d’arêtes (les liens entre ces entités). Dans le cadre du package {managHAl}, j'utiliserai les réseaux pour modéliser un réseau de co-publications (ou co-auteurs). Les noeuds représenteront des auteurs, et les arêtes entre ces noeuds (auteurs) seront l'existence de publications scientifiques co-écrite par les deux noeuds. La taille d'un nœud représentera le nombre de publications écrites par cet auteur (noeud) et la largeur d'une arête pourra correspondre au nombre de publications co-ecrites par les deux noeuds (co-auteurs). Les réseaux ne sont cependant pas exclusifs à l'analyse de données bibliométriques. En effet, les réseaux sont utilisés comme représentation et comme objet d'analyse statistique dans de nombreux domaines. Par exemple, des réseaux de régulations de gènes sont réalisés à partir de données de co-expression. Il est possible de donner d'autres exemples comme les analyses de réseaux d'interactions entre des espèces (réseau trophique) réalisées en écologie
:::


Je veux faire une courte présentation des réseaux, et des modèles possible à partir de ces réseaux pour réaliser de l'analyse statistique de réseaux.

peut etre mettre des exemples de réseaux classiques genre trophique, ... etc


```{r exemple de reseau, tidy.opts=list(width.cutoff=50)}
#| echo: true
#| output-location: slide
# Création d'un réseau unipartite
set.seed(42) # Pour la reproductibilité 
unipartite <- erdos.renyi.game(10, 0.3)
unipartite_graph <- plot(unipartite, main = "Réseau Unipartite")
```


# Résultats 


## Ajout de fonctionnalité à {managHAL}

je veux parler de l'ajout de fonction capable de créer un réseau, puis de l'analyser (si il est trop grand analyser les composantes connexes)

# Discussion, Perspectives et avenir du package

parler de ce que je veux faire, ajouter au package, de ce qu'il sera possible de réaliser avec le package a la fin de mon stage.

# Questions

## Méthodes informatiques

ne faire que si j'ai le temps, les mettres dans les diapos de questions possible ?
parler version Rstudio, package utilisés, explication de ...  

## quelles sont les questions qui peuvent venir au cours de ma présentation,
## quelles sont les choses dont je n'ai pas parlé au cours de ma présentation,
